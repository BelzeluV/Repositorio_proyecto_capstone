{% extends "base.html" %}
{% load humanize %}
{% load static %}


{% block title %}Music-Mix | Inicio{% endblock %}
{% block content %}
<style>
    .imagen-carta {
        max-width: 270px;
        /* Ancho fijo igual a la altura */
        max-height: 270px;
        /* Altura fija */
        object-fit: cover;
        /* Cubre el área cuadrada, puede recortar partes de la imagen */
        background-color: #ffffff;
    }
</style>
<div class="container">

    <div class="row py-4">
        <div class="col-12 ">
            <div id="carouselExampleDark" class="carousel slide">
                <div class="carousel-indicators">
                    <button type="button" data-bs-target="#carouselExampleDark" data-bs-slide-to="0" class="active"
                        aria-current="true" aria-label="Slide 1"></button>
                    <button type="button" data-bs-target="#carouselExampleDark" data-bs-slide-to="1"
                        aria-label="Slide 2"></button>
                    <button type="button" data-bs-target="#carouselExampleDark" data-bs-slide-to="2"
                        aria-label="Slide 3"></button>
                    <button type="button" data-bs-target="#carouselExampleDark" data-bs-slide-to="3"
                        aria-label="Slide 4"></button>
                    <button type="button" data-bs-target="#carouselExampleDark" data-bs-slide-to="4"
                        aria-label="Slide 5"></button>
                </div>
                <div class="carousel-inner">
                    <div class="carousel-item active" data-bs-interval="10000">
                        <img src="{% static 'images/carusel/recortado_recortado_Control-Room.jpg'%}"
                            class="d-block w-100" alt="...">
                        <div class="carousel-caption d-none d-md-block">
                            <h5>First slide label</h5>
                            <p>Some representative placeholder content for the first slide.</p>
                        </div>
                    </div>
                    <div class="carousel-item" data-bs-interval="2000">
                        <img src="{% static 'images/carusel/recortado_recortado_Guitarrr.jpg'%}" class="d-block w-100"
                            alt="...">
                        <div class="carousel-caption d-none d-md-block">
                            <h5>Second slide label</h5>
                            <p>Some representative placeholder content for the second slide.</p>
                        </div>
                    </div>
                    <div class="carousel-item">
                        <img src="{% static 'images/carusel/recortado_recortado_Bateria.jpg'%}" class="d-block w-100"
                            alt="...">
                        <div class="carousel-caption d-none d-md-block">
                            <h5>Third slide label</h5>
                            <p>Some representative placeholder content for the third slide.</p>
                        </div>
                    </div>
                    <div class="carousel-item">
                        <img src="{% static 'images/carusel/recortado_recortado_parlantes.jpg'%}" class="d-block w-100"
                            alt="...">
                        <div class="carousel-caption d-none d-md-block">
                            <h5>Third slide label</h5>
                            <p>Some representative placeholder content for the third slide.</p>
                        </div>
                    </div>
                    <div class="carousel-item">
                        <img src="{% static 'images/carusel/recortado_recortado_Courrier.jpg'%}" class="d-block w-100"
                            alt="...">
                        <div class="carousel-caption d-none d-md-block">
                            <h5>Third slide label</h5>
                            <p>Some representative placeholder content for the third slide.</p>
                        </div>
                    </div>
                </div>
                <button class="carousel-control-prev" type="button" data-bs-target="#carouselExampleDark"
                    data-bs-slide="prev">
                    <span class="carousel-control-prev-icon" aria-hidden="true"></span>
                    <span class="visually-hidden">Previous</span>
                </button>
                <button class="carousel-control-next" type="button" data-bs-target="#carouselExampleDark"
                    data-bs-slide="next">
                    <span class="carousel-control-next-icon" aria-hidden="true"></span>
                    <span class="visually-hidden">Next</span>
                </button>
            </div>
        </div>
    </div>



    <div class="row justify-content-center py-5">
        {% if productos %}
        {% for i in productos %}
        <div class="col-lg-3 col-md-6 col-sm-12 px-4 py-4">
            <div class="card tarjetaelemento" style=" 
                border-radius: 8px;
                border: 3px solid white;
                box-shadow: 0 0 35px var(--color-aleatorio), inset 0 0 0px var(--color-aleatorio);
                margin-top: 10px;">
                <div class="align-items-center justify-content-center">
                    {% if i.imagen_producto %}
                    <img src="{{i.imagen_producto.url}}" class="card-img-top imagen-carta ">
                    {% else %}
                    <img src="https://static.vecteezy.com/system/resources/thumbnails/008/255/803/small/page-not-found-error-404-system-updates-uploading-computing-operation-installation-programs-system-maintenance-a-hand-drawn-layout-template-of-a-broken-robot-illustration-vector.jpg"
                        class="card-img-top imagen-carta imagen_carta_inicio">
                    {% endif %}
                    <div class="card-body">
                        <div style="text-align: center;">
                            <h4> <a href="" style="color: var(--bs-body-color);">${{ i.precio_venta | intcomma }} |
                                    {{i.nombre_producto}}</a> </h4>

                        </div>
                        <div>valoraciones: </div>
                    </div>
                </div>
                <div class="d-grid gap-2">
                    <div class="btn-group" role="group" aria-label="Basic example">
                        <a href="{% url 'detalle' i.id_producto %}" class="btn btn-primary">detalles</a>
                        <a href="{% url 'agregarProducto' i.id_producto %}" class="btn btn-success">¡al carro!</a>
                    </div>
                </div>
            </div>
        </div>
        {% endfor %}
        {% else %}
        <div>
            <div class="card">
                <div class="card-body">
                    <h1>No hay productos registrados... que extraño</h1>
                </div>
            </div>
        </div>

        {% endif %}
    </div>
</div>

<script>
    var elementos = document.getElementsByClassName("tarjetaelemento");

    Array.from(elementos).forEach(function (elemento) {
        var colorAleatorio = generarColorAleatorio();
        elemento.style.setProperty('--color-aleatorio', colorAleatorio);
    });

    function generarColorAleatorio() {
        var letras = "0123456789ABCDEF";
        var color = "#";

        for (var i = 0; i < 6; i++) {
            color += letras[Math.floor(Math.random() * 16)];
        }

        return color;
    }
</script>


{% endblock %}