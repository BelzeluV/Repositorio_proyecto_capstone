{% extends "base.html" %}
{% load humanize %}
{% load static %}


{% block title %}Music-Mix | Perfil{% endblock %}
{% block content %}


<h1>Perfil de Usuario</h1>
<form method="POST" enctype="multipart/form-data">
    {% csrf_token %}
    <div>
        <label for="username">Nombre de Usuario:</label>
        <input type="text" id="username" name="username" value="{{ user.username }}" class="form-control" required>
    </div>

    <div>
        <label for="first_name">Nombre:</label>
        <input type="text" id="first_name" name="first_name" value="{{ user.first_name }}" class="form-control"
            required>
    </div>

    <div>
        <label for="last_name">Apellido:</label>
        <input type="text" id="last_name" name="last_name" value="{{ user.last_name }}" class="form-control" required>
    </div>

    <div>
        <label for="email">Correo Electrónico:</label>
        <input type="email" id="email" name="email" value="{{ user.email }}" class="form-control" required>
    </div>

    <div>
        <label for="RUT">RUT:</label>
        <input type="text" id="RUT" name="RUT" value="{{ user.RUT }}" class="form-control" required>
    </div>

    <div>
        <label for="nacimiento">Fecha de Nacimiento:</label>
        <input type="date" id="nacimiento" name="nacimiento" value="{{ user.nacimiento }}" class="form-control"
            required>
    </div>

    <div>
        <label for="telefono">Teléfono:</label>
        <input type="text" id="telefono" name="telefono" value="{{ user.telefono }}" class="form-control" required>
    </div>

    <div>
        <label for="direccion">Dirección:</label>
        <input type="text" id="direccion" name="direccion" value="{{ user.direccion }}" class="form-control" required>
    </div>

    <div>
        <label for="region">Región:</label>
        <select id="region" name="region" class="form-control">
            {% for value, label in user._meta.get_field('region').choices %}
            <option value="{{ value }}" {% if value==user.region %}selected{% endif %}>{{ label }}</option>
            {% endfor %}
        </select>
    </div>

    <div>
        <label for="comuna">Comuna:</label>
        <select id="comuna" name="comuna" class="form-control">
            {% for value, label in user._meta.get_field('comuna').choices %}
            <option value="{{ value }}" {% if value==user.comuna %}selected{% endif %}>{{ label }}</option>
            {% endfor %}
        </select>
    </div>

    <div>
        <label for="foto_de_Usuario">Foto de Usuario:</label>
        <input type="file" id="foto_de_Usuario" name="foto_de_Usuario" class="form-control">
        {% if user.foto_de_Usuario %}
        <img src="{{ user.foto_de_Usuario.url }}" alt="Foto de usuario" style="max-width: 150px;">
        {% endif %}
    </div>

    <button type="submit" class="btn btn-custom">Guardar Cambios</button>
</form>
{% endblock %}